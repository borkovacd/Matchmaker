{"ast":null,"code":"import _createForOfIteratorHelper from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{getVillages}from\"../services/VillageService\";import{withRouter}from\"react-router-dom\";import{bindActionCreators}from\"redux\";import connect from\"react-redux/es/connect/connect\";import*as Actions from\"../actions/Actions\";import Slide from\"../components/slider/slide\";import LeftArrow from\"../components/slider/left-arrow\";import RightArrow from\"../components/slider/right-arrow\";import QuickSearch from\"../components/forms/QuickSearchForm\";import strings from\"../localization\";import{getNewPeople}from\"../services/UserService\";import{calculateAge}from\"../util/DateUtil\";import VillagePreview from\"../components/VillagePreview\";import{OK}from\"http-status-codes\";import{Link}from\"react-router-dom\";import Page from\"../common/Page\";var Home=/*#__PURE__*/function(_Page){_inherits(Home,_Page);var _super=_createSuper(Home);function Home(props){var _this;_classCallCheck(this,Home);_this=_super.call(this,props);_this.state={activeIndex:0,villages:[],newPeople:[]};return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.props.showLoader();getVillages().then(function(response){_this2.props.hideLoader();if(response.status!==OK){return;}_this2.setState({villages:response.data});});getNewPeople(4).then(function(response){_this2.props.hideLoader();if(response.status!==OK){return;}_this2.setState({newPeople:response.data});});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){}},{key:\"goToPrevSlide\",value:function goToPrevSlide(){var index=this.state.activeIndex;var length=this.state.villages.length;if(index<1){index=length-1;}else{index--;}this.setState({activeIndex:index});}},{key:\"goToNextSlide\",value:function goToNextSlide(){var index=this.state.activeIndex;var length=this.state.villages.length;if(index===length-1){index=0;}else{index++;}this.setState({activeIndex:index});}},{key:\"renderNewPeople\",value:function renderNewPeople(){var result=[];if(!this.state.newPeople){return result;}var _iterator=_createForOfIteratorHelper(this.state.newPeople),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var user=_step.value;result.push(/*#__PURE__*/React.createElement(\"div\",{key:user.id,className:\"item-with-text\"},/*#__PURE__*/React.createElement(\"div\",{className:\"item-photo-container\",style:{background:\"url(images/circle.png)\"}},/*#__PURE__*/React.createElement(\"img\",{src:\"images/users_photos/\"+user.id+\"/circle_image.png\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"item-text\"},user.name,\", \",calculateAge(user.birthday))));}}catch(err){_iterator.e(err);}finally{_iterator.f();}return result;}},{key:\"renderVillages\",value:function renderVillages(){var result=[];var numberOfVillages=0;if(!this.state.villages){return result;}{var _iterator2=_createForOfIteratorHelper(this.state.villages),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var village=_step2.value;if(numberOfVillages<3){result.push(/*#__PURE__*/React.createElement(VillagePreview,{village:village,key:village.id}));numberOfVillages++;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}return result;}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{id:\"home\"},/*#__PURE__*/React.createElement(\"div\",{className:\"slider-items-container\",style:{background:\"url(../../images/slider-index.png)\"}},/*#__PURE__*/React.createElement(LeftArrow,{goToPrevSlide:function goToPrevSlide(){return _this3.goToPrevSlide();}}),/*#__PURE__*/React.createElement(\"div\",{className:\"slider-grid-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"search-form-container\"},/*#__PURE__*/React.createElement(QuickSearch,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"slider-village-container\"},/*#__PURE__*/React.createElement(Slide,{items:this.state.villages,activeIndex:this.state.activeIndex,goToNextSlide:function goToNextSlide(){return _this3.goToNextSlide();}}))),/*#__PURE__*/React.createElement(RightArrow,{goToNextSlide:function goToNextSlide(){return _this3.goToNextSlide();}})),/*#__PURE__*/React.createElement(\"div\",{className:\"new-people-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"new-people-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flag\"},/*#__PURE__*/React.createElement(\"img\",{src:\"images/flags/rs.png\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},strings.home.newPeople)),/*#__PURE__*/React.createElement(\"div\",{className:\"items-container\"},this.renderNewPeople())),/*#__PURE__*/React.createElement(\"div\",{className:\"serbia-blogs-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"serbia-blogs-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flag\"},/*#__PURE__*/React.createElement(\"img\",{src:\"images/flags/rs.png\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},strings.home.blogs)),/*#__PURE__*/React.createElement(Link,{className:\"blogs-button\",to:\"/blogs\"},strings.home.blogsButton)),/*#__PURE__*/React.createElement(\"div\",{className:\"serbia-villages-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"serbia-villages-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flag\"},/*#__PURE__*/React.createElement(\"img\",{src:\"images/flags/rs.png\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},strings.home.beuty)),/*#__PURE__*/React.createElement(\"div\",{className:\"items-container\"},this.renderVillages())));}}]);return Home;}(Page);function mapDispatchToProps(dispatch){return bindActionCreators({showLoader:Actions.showLoader,hideLoader:Actions.hideLoader},dispatch);}function mapStateToProps(_ref){var authReducers=_ref.authReducers;return{user:authReducers.user};}export default withRouter(connect(mapStateToProps,mapDispatchToProps)(Home));","map":{"version":3,"sources":["/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/src/pages/Home.js"],"names":["React","Component","getVillages","withRouter","bindActionCreators","connect","Actions","Slide","LeftArrow","RightArrow","QuickSearch","strings","getNewPeople","calculateAge","VillagePreview","OK","Link","Page","Home","props","state","activeIndex","villages","newPeople","showLoader","then","response","hideLoader","status","setState","data","index","length","result","user","push","id","background","name","birthday","numberOfVillages","village","goToPrevSlide","goToNextSlide","home","renderNewPeople","blogs","blogsButton","beuty","renderVillages","mapDispatchToProps","dispatch","mapStateToProps","authReducers"],"mappings":"k9BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,4BAA5B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,MAAOC,CAAAA,OAAP,KAAoB,gCAApB,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,oBAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,4BAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,iCAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kCAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,qCAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,iBAApB,CACA,OAASC,YAAT,KAA6B,yBAA7B,CACA,OAASC,YAAT,KAA6B,kBAA7B,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,OAASC,EAAT,KAAmB,mBAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,gBAAjB,C,GAEMC,CAAAA,I,kFACJ,cAAYC,KAAZ,CAAmB,sCACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,WAAW,CAAE,CADF,CAEXC,QAAQ,CAAE,EAFC,CAGXC,SAAS,CAAE,EAHA,CAAb,CAHiB,aAQlB,C,8EAEmB,iBAClB,KAAKJ,KAAL,CAAWK,UAAX,GAEAtB,WAAW,GAAGuB,IAAd,CAAmB,SAAAC,QAAQ,CAAI,CAC7B,MAAI,CAACP,KAAL,CAAWQ,UAAX,GAEA,GAAID,QAAQ,CAACE,MAAT,GAAoBb,EAAxB,CAA4B,CAC1B,OACD,CAED,MAAI,CAACc,QAAL,CAAc,CACZP,QAAQ,CAAEI,QAAQ,CAACI,IADP,CAAd,EAGD,CAVD,EAYAlB,YAAY,CAAC,CAAD,CAAZ,CAAgBa,IAAhB,CAAqB,SAAAC,QAAQ,CAAI,CAC/B,MAAI,CAACP,KAAL,CAAWQ,UAAX,GAEA,GAAID,QAAQ,CAACE,MAAT,GAAoBb,EAAxB,CAA4B,CAC1B,OACD,CAED,MAAI,CAACc,QAAL,CAAc,CACZN,SAAS,CAAEG,QAAQ,CAACI,IADR,CAAd,EAGD,CAVD,EAWD,C,+DAEoB,CAAE,C,qDAEP,CACd,GAAIC,CAAAA,KAAK,CAAG,KAAKX,KAAL,CAAWC,WAAvB,CACA,GAAIW,CAAAA,MAAM,CAAG,KAAKZ,KAAL,CAAWE,QAAX,CAAoBU,MAAjC,CAEA,GAAID,KAAK,CAAG,CAAZ,CAAe,CACbA,KAAK,CAAGC,MAAM,CAAG,CAAjB,CACD,CAFD,IAEO,CACLD,KAAK,GACN,CAED,KAAKF,QAAL,CAAc,CACZR,WAAW,CAAEU,KADD,CAAd,EAGD,C,qDAEe,CACd,GAAIA,CAAAA,KAAK,CAAG,KAAKX,KAAL,CAAWC,WAAvB,CACA,GAAIW,CAAAA,MAAM,CAAG,KAAKZ,KAAL,CAAWE,QAAX,CAAoBU,MAAjC,CAEA,GAAID,KAAK,GAAKC,MAAM,CAAG,CAAvB,CAA0B,CACxBD,KAAK,CAAG,CAAR,CACD,CAFD,IAEO,CACLA,KAAK,GACN,CAED,KAAKF,QAAL,CAAc,CACZR,WAAW,CAAEU,KADD,CAAd,EAGD,C,yDAEiB,CAChB,GAAIE,CAAAA,MAAM,CAAG,EAAb,CAEA,GAAI,CAAC,KAAKb,KAAL,CAAWG,SAAhB,CAA2B,CACzB,MAAOU,CAAAA,MAAP,CACD,CALe,yCAOC,KAAKb,KAAL,CAAWG,SAPZ,YAOhB,+CAAuC,IAA9BW,CAAAA,IAA8B,aACrCD,MAAM,CAACE,IAAP,cACE,2BAAK,GAAG,CAAED,IAAI,CAACE,EAAf,CAAmB,SAAS,CAAC,gBAA7B,eACE,2BACE,SAAS,CAAC,sBADZ,CAEE,KAAK,CAAE,CACLC,UAAU,CAAE,wBADP,CAFT,eAME,2BACE,GAAG,CAAE,uBAAyBH,IAAI,CAACE,EAA9B,CAAmC,mBAD1C,EANF,CADF,cAWE,2BAAK,SAAS,CAAC,WAAf,EACGF,IAAI,CAACI,IADR,MACgBzB,YAAY,CAACqB,IAAI,CAACK,QAAN,CAD5B,CAXF,CADF,EAiBD,CAzBe,qDA2BhB,MAAON,CAAAA,MAAP,CACD,C,uDAEgB,CACf,GAAIA,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIO,CAAAA,gBAAgB,CAAG,CAAvB,CAEA,GAAI,CAAC,KAAKpB,KAAL,CAAWE,QAAhB,CAA0B,CACxB,MAAOW,CAAAA,MAAP,CACD,CAED,2CACsB,KAAKb,KAAL,CAAWE,QADjC,aACE,kDAAyC,IAAhCmB,CAAAA,OAAgC,cACvC,GAAID,gBAAgB,CAAG,CAAvB,CAA0B,CACxBP,MAAM,CAACE,IAAP,cAAY,oBAAC,cAAD,EAAgB,OAAO,CAAEM,OAAzB,CAAkC,GAAG,CAAEA,OAAO,CAACL,EAA/C,EAAZ,EACAI,gBAAgB,GACjB,CACF,CANH,uDAOC,CAED,MAAOP,CAAAA,MAAP,CACD,C,uCAEQ,iBACP,mBACE,2BAAK,EAAE,CAAC,MAAR,eACE,2BACE,SAAS,CAAC,wBADZ,CAEE,KAAK,CAAE,CACLI,UAAU,CAAE,oCADP,CAFT,eAME,oBAAC,SAAD,EAAW,aAAa,CAAE,+BAAM,CAAA,MAAI,CAACK,aAAL,EAAN,EAA1B,EANF,cAOE,2BAAK,SAAS,CAAC,uBAAf,eACE,2BAAK,SAAS,CAAC,uBAAf,eACE,oBAAC,WAAD,MADF,CADF,cAIE,2BAAK,SAAS,CAAC,0BAAf,eACE,oBAAC,KAAD,EACE,KAAK,CAAE,KAAKtB,KAAL,CAAWE,QADpB,CAEE,WAAW,CAAE,KAAKF,KAAL,CAAWC,WAF1B,CAGE,aAAa,CAAE,+BAAM,CAAA,MAAI,CAACsB,aAAL,EAAN,EAHjB,EADF,CAJF,CAPF,cAmBE,oBAAC,UAAD,EAAY,aAAa,CAAE,+BAAM,CAAA,MAAI,CAACA,aAAL,EAAN,EAA3B,EAnBF,CADF,cAsBE,2BAAK,SAAS,CAAC,sBAAf,eACE,2BAAK,SAAS,CAAC,kBAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,2BAAK,GAAG,CAAC,qBAAT,EADF,CADF,cAIE,2BAAK,SAAS,CAAC,OAAf,EAAwBhC,OAAO,CAACiC,IAAR,CAAarB,SAArC,CAJF,CADF,cAOE,2BAAK,SAAS,CAAC,iBAAf,EAAkC,KAAKsB,eAAL,EAAlC,CAPF,CAtBF,cA+BE,2BAAK,SAAS,CAAC,wBAAf,eACE,2BAAK,SAAS,CAAC,oBAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,2BAAK,GAAG,CAAC,qBAAT,EADF,CADF,cAIE,2BAAK,SAAS,CAAC,OAAf,EAAwBlC,OAAO,CAACiC,IAAR,CAAaE,KAArC,CAJF,CADF,cAOE,oBAAC,IAAD,EAAM,SAAS,CAAC,cAAhB,CAA+B,EAAE,CAAC,QAAlC,EACGnC,OAAO,CAACiC,IAAR,CAAaG,WADhB,CAPF,CA/BF,cA0CE,2BAAK,SAAS,CAAC,2BAAf,eACE,2BAAK,SAAS,CAAC,uBAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,2BAAK,GAAG,CAAC,qBAAT,EADF,CADF,cAIE,2BAAK,SAAS,CAAC,OAAf,EAAwBpC,OAAO,CAACiC,IAAR,CAAaI,KAArC,CAJF,CADF,cAOE,2BAAK,SAAS,CAAC,iBAAf,EAAkC,KAAKC,cAAL,EAAlC,CAPF,CA1CF,CADF,CAsDD,C,kBAhLgBhC,I,EAmLnB,QAASiC,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,MAAO/C,CAAAA,kBAAkB,CACvB,CACEoB,UAAU,CAAElB,OAAO,CAACkB,UADtB,CAEEG,UAAU,CAAErB,OAAO,CAACqB,UAFtB,CADuB,CAKvBwB,QALuB,CAAzB,CAOD,CAED,QAASC,CAAAA,eAAT,MAA2C,IAAhBC,CAAAA,YAAgB,MAAhBA,YAAgB,CACzC,MAAO,CACLnB,IAAI,CAAEmB,YAAY,CAACnB,IADd,CAAP,CAGD,CAED,cAAe/B,CAAAA,UAAU,CAACE,OAAO,CAAC+C,eAAD,CAAkBF,kBAAlB,CAAP,CAA6ChC,IAA7C,CAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport { getVillages } from \"../services/VillageService\";\nimport { withRouter } from \"react-router-dom\";\nimport { bindActionCreators } from \"redux\";\nimport connect from \"react-redux/es/connect/connect\";\nimport * as Actions from \"../actions/Actions\";\nimport Slide from \"../components/slider/slide\";\nimport LeftArrow from \"../components/slider/left-arrow\";\nimport RightArrow from \"../components/slider/right-arrow\";\nimport QuickSearch from \"../components/forms/QuickSearchForm\";\nimport strings from \"../localization\";\nimport { getNewPeople } from \"../services/UserService\";\nimport { calculateAge } from \"../util/DateUtil\";\nimport VillagePreview from \"../components/VillagePreview\";\nimport { OK } from \"http-status-codes\";\nimport { Link } from \"react-router-dom\";\nimport Page from \"../common/Page\";\n\nclass Home extends Page {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeIndex: 0,\n      villages: [],\n      newPeople: []\n    };\n  }\n\n  componentDidMount() {\n    this.props.showLoader();\n\n    getVillages().then(response => {\n      this.props.hideLoader();\n\n      if (response.status !== OK) {\n        return;\n      }\n\n      this.setState({\n        villages: response.data\n      });\n    });\n\n    getNewPeople(4).then(response => {\n      this.props.hideLoader();\n\n      if (response.status !== OK) {\n        return;\n      }\n\n      this.setState({\n        newPeople: response.data\n      });\n    });\n  }\n\n  componentDidUpdate() {}\n\n  goToPrevSlide() {\n    let index = this.state.activeIndex;\n    let length = this.state.villages.length;\n\n    if (index < 1) {\n      index = length - 1;\n    } else {\n      index--;\n    }\n\n    this.setState({\n      activeIndex: index\n    });\n  }\n\n  goToNextSlide() {\n    let index = this.state.activeIndex;\n    let length = this.state.villages.length;\n\n    if (index === length - 1) {\n      index = 0;\n    } else {\n      index++;\n    }\n\n    this.setState({\n      activeIndex: index\n    });\n  }\n\n  renderNewPeople() {\n    let result = [];\n\n    if (!this.state.newPeople) {\n      return result;\n    }\n\n    for (let user of this.state.newPeople) {\n      result.push(\n        <div key={user.id} className=\"item-with-text\">\n          <div\n            className=\"item-photo-container\"\n            style={{\n              background: \"url(images/circle.png)\"\n            }}\n          >\n            <img\n              src={\"images/users_photos/\" + user.id + \"/circle_image.png\"}\n            ></img>\n          </div>\n          <div className=\"item-text\">\n            {user.name}, {calculateAge(user.birthday)}\n          </div>\n        </div>\n      );\n    }\n\n    return result;\n  }\n\n  renderVillages() {\n    let result = [];\n    let numberOfVillages = 0;\n\n    if (!this.state.villages) {\n      return result;\n    }\n\n    {\n      for (let village of this.state.villages) {\n        if (numberOfVillages < 3) {\n          result.push(<VillagePreview village={village} key={village.id} />);\n          numberOfVillages++;\n        }\n      }\n    }\n\n    return result;\n  }\n\n  render() {\n    return (\n      <div id=\"home\">\n        <div\n          className=\"slider-items-container\"\n          style={{\n            background: \"url(../../images/slider-index.png)\"\n          }}\n        >\n          <LeftArrow goToPrevSlide={() => this.goToPrevSlide()} />\n          <div className=\"slider-grid-container\">\n            <div className=\"search-form-container\">\n              <QuickSearch />\n            </div>\n            <div className=\"slider-village-container\">\n              <Slide\n                items={this.state.villages}\n                activeIndex={this.state.activeIndex}\n                goToNextSlide={() => this.goToNextSlide()}\n              />\n            </div>\n          </div>\n          <RightArrow goToNextSlide={() => this.goToNextSlide()} />\n        </div>\n        <div className=\"new-people-container\">\n          <div className=\"new-people-title\">\n            <div className=\"flag\">\n              <img src=\"images/flags/rs.png\"></img>\n            </div>\n            <div className=\"title\">{strings.home.newPeople}</div>\n          </div>\n          <div className=\"items-container\">{this.renderNewPeople()}</div>\n        </div>\n        <div className=\"serbia-blogs-container\">\n          <div className=\"serbia-blogs-title\">\n            <div className=\"flag\">\n              <img src=\"images/flags/rs.png\"></img>\n            </div>\n            <div className=\"title\">{strings.home.blogs}</div>\n          </div>\n          <Link className=\"blogs-button\" to=\"/blogs\">\n            {strings.home.blogsButton}\n          </Link>\n        </div>\n        <div className=\"serbia-villages-container\">\n          <div className=\"serbia-villages-title\">\n            <div className=\"flag\">\n              <img src=\"images/flags/rs.png\"></img>\n            </div>\n            <div className=\"title\">{strings.home.beuty}</div>\n          </div>\n          <div className=\"items-container\">{this.renderVillages()}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      showLoader: Actions.showLoader,\n      hideLoader: Actions.hideLoader\n    },\n    dispatch\n  );\n}\n\nfunction mapStateToProps({ authReducers }) {\n  return {\n    user: authReducers.user\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Home));\n"]},"metadata":{},"sourceType":"module"}