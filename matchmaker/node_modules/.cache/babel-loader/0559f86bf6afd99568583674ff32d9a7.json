{"ast":null,"code":"import _classCallCheck from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import strings from\"../localization\";import{Link}from\"react-router-dom\";import{calculateAge}from\"../util/DateUtil\";import{getGenderString}from\"../constants/Gender\";import{getVillage}from\"../services/VillageService\";import{withRouter}from\"react-router-dom\";import{bindActionCreators}from\"redux\";import connect from\"react-redux/es/connect/connect\";import*as Actions from\"../actions/Actions\";import{OK}from\"http-status-codes\";var UserPreview=/*#__PURE__*/function(_Component){_inherits(UserPreview,_Component);var _super=_createSuper(UserPreview);function UserPreview(props){var _this;_classCallCheck(this,UserPreview);_this=_super.call(this,props);_this.state={user:props.user?props.user:undefined};return _this;}_createClass(UserPreview,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){this.setState({user:nextProps.user});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.props.showLoader();getVillage(this.state.user.village).then(function(response){_this2.props.hideLoader();if(response.status!==OK){return;}_this2.setState({villageName:response.data.name});});}},{key:\"renderUser\",value:function renderUser(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"profile-photo\",style:{background:\"url(images/users_photos/\"+this.state.user.id+\"/profile_photo.png)\"}}),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"first-second-row\"},/*#__PURE__*/React.createElement(Link,{to:\"/user?user=\"+this.state.user.id,className:\"name\"},this.state.user.name),/*#__PURE__*/React.createElement(\"div\",{className:\"last-active\"},strings.user.lastActive)),/*#__PURE__*/React.createElement(\"div\",{className:\"second-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"age\"},calculateAge(this.state.user.birthday),\" \",strings.user.yearsOld),/*#__PURE__*/React.createElement(\"div\",{className:\"last-active-2\"},strings.user.before,\" ? \",strings.user.minutes)),/*#__PURE__*/React.createElement(\"div\",{className:\"middle-row first\"},/*#__PURE__*/React.createElement(\"div\",{className:\"info\"},strings.user.village,\" \",this.state.villageName)),/*#__PURE__*/React.createElement(\"div\",{className:\"middle-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"info\"},strings.user.searchFor,\" \",getGenderString(this.state.user.interestedInGender),strings.user.from,\" \",this.state.user.interestedInAgeMin,strings.user.to,\" \",this.state.user.interestedInAgeMax)),/*#__PURE__*/React.createElement(\"div\",{className:\"middle-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"info\"},\"? \",strings.user.photo)),/*#__PURE__*/React.createElement(\"div\",{className:\"middle-row last\"},/*#__PURE__*/React.createElement(\"div\",{className:\"description\"},\"\\\"\",this.state.user.description,\"\\\"\")),/*#__PURE__*/React.createElement(\"div\",{className:\"last-row\"},/*#__PURE__*/React.createElement(\"a\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-envelope\"})),/*#__PURE__*/React.createElement(\"a\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-comments\"})),/*#__PURE__*/React.createElement(\"a\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-heart\"})),/*#__PURE__*/React.createElement(\"a\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-kiss-wink-heart\"})),/*#__PURE__*/React.createElement(\"a\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-gift\"})))));}},{key:\"render\",value:function render(){if(!this.state.user){return\"\";}return/*#__PURE__*/React.createElement(\"div\",{id:this.state.user.id,className:\"user-preview-container\"},this.renderUser());}}]);return UserPreview;}(Component);function mapDispatchToProps(dispatch){return bindActionCreators({showLoader:Actions.showLoader,hideLoader:Actions.hideLoader},dispatch);}function mapStateToProps(){return{};}export default withRouter(connect(mapStateToProps,mapDispatchToProps)(UserPreview));","map":{"version":3,"sources":["/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/src/components/UserPreview.js"],"names":["React","Component","strings","Link","calculateAge","getGenderString","getVillage","withRouter","bindActionCreators","connect","Actions","OK","UserPreview","props","state","user","undefined","nextProps","setState","showLoader","village","then","response","hideLoader","status","villageName","data","name","background","id","lastActive","birthday","yearsOld","before","minutes","searchFor","interestedInGender","from","interestedInAgeMin","to","interestedInAgeMax","photo","description","renderUser","mapDispatchToProps","dispatch","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport strings from \"../localization\";\nimport { Link } from \"react-router-dom\";\nimport { calculateAge } from \"../util/DateUtil\";\nimport { getGenderString } from \"../constants/Gender\";\nimport { getVillage } from \"../services/VillageService\";\nimport { withRouter } from \"react-router-dom\";\nimport { bindActionCreators } from \"redux\";\nimport connect from \"react-redux/es/connect/connect\";\nimport * as Actions from \"../actions/Actions\";\nimport { OK } from \"http-status-codes\";\n\nclass UserPreview extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user: props.user ? props.user : undefined,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      user: nextProps.user,\n    });\n  }\n\n  componentDidMount() {\n    this.props.showLoader();\n\n    getVillage(this.state.user.village).then((response) => {\n      this.props.hideLoader();\n      if (response.status !== OK) {\n        return;\n      }\n\n      this.setState({\n        villageName: response.data.name,\n      });\n    });\n  }\n\n  renderUser() {\n    return (\n      <React.Fragment>\n        <div\n          className=\"profile-photo\"\n          style={{\n            background:\n              \"url(images/users_photos/\" +\n              this.state.user.id +\n              \"/profile_photo.png)\",\n          }}\n        ></div>\n\n        <div className=\"content\">\n          <div className=\"first-second-row\">\n            <Link to={\"/user?user=\" + this.state.user.id} className=\"name\">\n              {this.state.user.name}\n            </Link>\n            <div className=\"last-active\">{strings.user.lastActive}</div>\n          </div>\n          <div className=\"second-row\">\n            <div className=\"age\">\n              {calculateAge(this.state.user.birthday)} {strings.user.yearsOld}\n            </div>\n            <div className=\"last-active-2\">\n              {strings.user.before} ? {strings.user.minutes}\n            </div>\n          </div>\n          <div className=\"middle-row first\">\n            <div className=\"info\">\n              {strings.user.village} {this.state.villageName}\n            </div>\n          </div>\n          <div className=\"middle-row\">\n            <div className=\"info\">\n              {strings.user.searchFor}{\" \"}\n              {getGenderString(this.state.user.interestedInGender)}\n              {strings.user.from} {this.state.user.interestedInAgeMin}\n              {strings.user.to} {this.state.user.interestedInAgeMax}\n            </div>\n          </div>\n          <div className=\"middle-row\">\n            <div className=\"info\">? {strings.user.photo}</div>\n          </div>\n          <div className=\"middle-row last\">\n            <div className=\"description\">\"{this.state.user.description}\"</div>\n          </div>\n          <div className=\"last-row\">\n            <a>\n              <i className=\"fas fa-envelope\"></i>\n            </a>\n            <a>\n              <i className=\"fas fa-comments\"></i>\n            </a>\n            <a>\n              <i className=\"fas fa-heart\"></i>\n            </a>\n            <a>\n              <i className=\"fas fa-kiss-wink-heart\"></i>\n            </a>\n            <a>\n              <i className=\"fas fa-gift\"></i>\n            </a>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    if (!this.state.user) {\n      return \"\";\n    }\n\n    return (\n      <div id={this.state.user.id} className=\"user-preview-container\">\n        {this.renderUser()}\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      showLoader: Actions.showLoader,\n      hideLoader: Actions.hideLoader,\n    },\n    dispatch\n  );\n}\n\nfunction mapStateToProps() {\n  return {};\n}\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(UserPreview)\n);\n"]},"metadata":{},"sourceType":"module"}