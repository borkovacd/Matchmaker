{"ast":null,"code":"import _classCallCheck from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Page from\"../common/Page\";import{bindActionCreators}from\"redux\";import*as Actions from\"../actions/Actions\";import{withRouter}from\"react-router-dom\";import connect from\"react-redux/es/connect/connect\";import{getBlogs}from\"../services/BlogService\";import strings from\"../localization\";import BlogPreview from\"../components/BlogPreview\";import{OK}from\"http-status-codes\";var Blogs=/*#__PURE__*/function(_Page){_inherits(Blogs,_Page);var _super=_createSuper(Blogs);function Blogs(props){var _this;_classCallCheck(this,Blogs);_this=_super.call(this,props);_this.state={visible:6};_this.loadMore=_this.loadMore.bind(_assertThisInitialized(_this));return _this;}_createClass(Blogs,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadBlogs();window.scrollTo(0,0);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){//window.scrollTo(0, 0);\n}},{key:\"loadBlogs\",value:function loadBlogs(){var _this2=this;this.props.showLoader();getBlogs().then(function(response){_this2.props.hideLoader();if(response.status!==OK){return;}_this2.setState({blogs:response.data});});}},{key:\"loadMore\",value:function loadMore(){this.setState(function(prev){return{visible:prev.visible+3};});}},{key:\"renderBlogs\",value:function renderBlogs(){var result=[];{this.state.blogs.slice(0,this.state.visible).map(function(item,index){result.push(/*#__PURE__*/React.createElement(BlogPreview,{blog:item,key:item.id}));});}return result;}},{key:\"render\",value:function render(){if(!this.state.blogs){return\"\";}return/*#__PURE__*/React.createElement(\"div\",{className:\"blogs-page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"blogs-page-header\"},\"SERBIA\"),/*#__PURE__*/React.createElement(\"div\",{className:\"blogs-page-title\"},strings.blogs.blogPage),/*#__PURE__*/React.createElement(\"div\",{className:\"blogs-grid-container\"},this.renderBlogs()),/*#__PURE__*/React.createElement(\"div\",{className:\"center\"},this.state.visible<this.state.blogs.length&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"load-more-dots\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-ellipsis-h\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:this.loadMore,className:\"load-more-text\"},strings.blogs.loadMore)))));}}]);return Blogs;}(Page);function mapDispatchToProps(dispatch){return bindActionCreators({showLoader:Actions.showLoader,hideLoader:Actions.hideLoader},dispatch);}function mapStateToProps(_ref){var siteDataReducers=_ref.siteDataReducers;return siteDataReducers;}export default withRouter(connect(mapStateToProps,mapDispatchToProps)(Blogs));","map":{"version":3,"sources":["/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/src/pages/Blogs.js"],"names":["React","Page","bindActionCreators","Actions","withRouter","connect","getBlogs","strings","BlogPreview","OK","Blogs","props","state","visible","loadMore","bind","loadBlogs","window","scrollTo","showLoader","then","response","hideLoader","status","setState","blogs","data","prev","result","slice","map","item","index","push","id","blogPage","renderBlogs","length","mapDispatchToProps","dispatch","mapStateToProps","siteDataReducers"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Page from \"../common/Page\";\nimport { bindActionCreators } from \"redux\";\nimport * as Actions from \"../actions/Actions\";\nimport { withRouter } from \"react-router-dom\";\nimport connect from \"react-redux/es/connect/connect\";\nimport { getBlogs } from \"../services/BlogService\";\nimport strings from \"../localization\";\nimport BlogPreview from \"../components/BlogPreview\";\nimport { OK } from \"http-status-codes\";\n\nclass Blogs extends Page {\n  constructor(props) {\n    super(props);\n\n    this.state = { visible: 6 };\n\n    this.loadMore = this.loadMore.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadBlogs();\n    window.scrollTo(0, 0);\n  }\n\n  componentDidUpdate() {\n    //window.scrollTo(0, 0);\n  }\n\n  loadBlogs() {\n    this.props.showLoader();\n\n    getBlogs().then(response => {\n      this.props.hideLoader();\n\n      if (response.status !== OK) {\n        return;\n      }\n\n      this.setState({\n        blogs: response.data\n      });\n    });\n  }\n\n  loadMore() {\n    this.setState(prev => {\n      return { visible: prev.visible + 3 };\n    });\n  }\n\n  renderBlogs() {\n    let result = [];\n    {\n      this.state.blogs.slice(0, this.state.visible).map((item, index) => {\n        result.push(<BlogPreview blog={item} key={item.id} />);\n      });\n    }\n    return result;\n  }\n\n  render() {\n    if (!this.state.blogs) {\n      return \"\";\n    }\n\n    return (\n      <div className=\"blogs-page\">\n        <div className=\"blogs-page-header\">SERBIA</div>\n        <div className=\"blogs-page-title\">{strings.blogs.blogPage}</div>\n        <div className=\"blogs-grid-container\">{this.renderBlogs()}</div>\n        <div className=\"center\">\n          {this.state.visible < this.state.blogs.length && (\n            <React.Fragment>\n              <div className=\"load-more-dots\">\n                <i className=\"fas fa-ellipsis-h\"></i>\n              </div>\n              <div>\n                <button onClick={this.loadMore} className=\"load-more-text\">\n                  {strings.blogs.loadMore}\n                </button>\n              </div>\n            </React.Fragment>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      showLoader: Actions.showLoader,\n      hideLoader: Actions.hideLoader\n    },\n    dispatch\n  );\n}\n\nfunction mapStateToProps({ siteDataReducers }) {\n  return siteDataReducers;\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Blogs));\n"]},"metadata":{},"sourceType":"module"}