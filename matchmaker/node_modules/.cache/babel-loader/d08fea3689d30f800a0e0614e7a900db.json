{"ast":null,"code":"var _jsxFileName = \"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/src/pages/Home.js\";\nimport React, { Component } from \"react\";\nimport { getVillages } from \"../services/VillageService\";\nimport { withRouter } from \"react-router-dom\";\nimport { bindActionCreators } from \"redux\";\nimport connect from \"react-redux/es/connect/connect\";\nimport * as Actions from \"../actions/Actions\";\nimport Slide from \"../components/slider/slide\";\nimport LeftArrow from \"../components/slider/left-arrow\";\nimport RightArrow from \"../components/slider/right-arrow\";\nimport QuickSearch from \"../components/forms/QuickSearchForm\";\nimport strings from \"../localization\";\nimport { getNewPeople } from \"../services/UserService\";\nimport { calculateAge } from \"../util/DateUtil\";\nimport VillagePreview from \"../components/VillagePreview\";\nimport { OK } from \"http-status-codes\";\nimport { Link } from \"react-router-dom\";\nimport Page from \"../common/Page\";\n\nclass Home extends Page {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeIndex: 0,\n      villages: [],\n      newPeople: []\n    };\n  }\n\n  componentDidMount() {\n    this.props.showLoader();\n    getVillages().then(response => {\n      this.props.hideLoader();\n\n      if (response.status !== OK) {\n        return;\n      }\n\n      this.setState({\n        villages: response.data\n      });\n    });\n    getNewPeople(4).then(response => {\n      this.props.hideLoader();\n\n      if (response.status !== OK) {\n        return;\n      }\n\n      this.setState({\n        newPeople: response.data\n      });\n    });\n  }\n\n  componentDidUpdate() {}\n\n  goToPrevSlide() {\n    let index = this.state.activeIndex;\n    let length = this.state.villages.length;\n\n    if (index < 1) {\n      index = length - 1;\n    } else {\n      index--;\n    }\n\n    this.setState({\n      activeIndex: index\n    });\n  }\n\n  goToNextSlide() {\n    let index = this.state.activeIndex;\n    let length = this.state.villages.length;\n\n    if (index === length - 1) {\n      index = 0;\n    } else {\n      index++;\n    }\n\n    this.setState({\n      activeIndex: index\n    });\n  }\n\n  renderNewPeople() {\n    let result = [];\n\n    if (!this.state.newPeople) {\n      return result;\n    }\n\n    for (let user of this.state.newPeople) {\n      result.push( /*#__PURE__*/React.createElement(\"div\", {\n        key: user.id,\n        className: \"item-with-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item-photo-container\",\n        style: {\n          background: \"url(images/circle.png)\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"images/users_photos/\" + user.id + \"/circle_image.png\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }, user.name, \", \", calculateAge(user.birthday))));\n    }\n\n    return result;\n  }\n\n  renderVillages() {\n    let result = [];\n    let numberOfVillages = 0;\n\n    if (!this.state.villages) {\n      return result;\n    }\n\n    {\n      for (let village of this.state.villages) {\n        if (numberOfVillages < 3) {\n          result.push( /*#__PURE__*/React.createElement(VillagePreview, {\n            village: village,\n            key: village.id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 23\n            }\n          }));\n          numberOfVillages++;\n        }\n      }\n    }\n    return result;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"slider-items-container\",\n      style: {\n        background: \"url(../../images/slider-index.png)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(LeftArrow, {\n      goToPrevSlide: () => this.goToPrevSlide(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"slider-grid-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-form-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(QuickSearch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"slider-village-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Slide, {\n      items: this.state.villages,\n      activeIndex: this.state.activeIndex,\n      goToNextSlide: () => this.goToNextSlide(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(RightArrow, {\n      goToNextSlide: () => this.goToNextSlide(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"new-people-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"new-people-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/flags/rs.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }, strings.home.newPeople)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"items-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }, this.renderNewPeople())), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"serbia-blogs-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"serbia-blogs-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/flags/rs.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }, strings.home.blogs)), /*#__PURE__*/React.createElement(Link, {\n      className: \"blogs-button\",\n      to: \"/blogs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, strings.home.blogsButton)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"serbia-villages-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"serbia-villages-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"images/flags/rs.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }\n    }, strings.home.beuty)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"items-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }\n    }, this.renderVillages())));\n  }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    showLoader: Actions.showLoader,\n    hideLoader: Actions.hideLoader\n  }, dispatch);\n}\n\nfunction mapStateToProps({\n  authReducers\n}) {\n  return {\n    user: authReducers.user\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Home));","map":{"version":3,"sources":["/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/src/pages/Home.js"],"names":["React","Component","getVillages","withRouter","bindActionCreators","connect","Actions","Slide","LeftArrow","RightArrow","QuickSearch","strings","getNewPeople","calculateAge","VillagePreview","OK","Link","Page","Home","constructor","props","state","activeIndex","villages","newPeople","componentDidMount","showLoader","then","response","hideLoader","status","setState","data","componentDidUpdate","goToPrevSlide","index","length","goToNextSlide","renderNewPeople","result","user","push","id","background","name","birthday","renderVillages","numberOfVillages","village","render","home","blogs","blogsButton","beuty","mapDispatchToProps","dispatch","mapStateToProps","authReducers"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { getVillages } from \"../services/VillageService\";\nimport { withRouter } from \"react-router-dom\";\nimport { bindActionCreators } from \"redux\";\nimport connect from \"react-redux/es/connect/connect\";\nimport * as Actions from \"../actions/Actions\";\nimport Slide from \"../components/slider/slide\";\nimport LeftArrow from \"../components/slider/left-arrow\";\nimport RightArrow from \"../components/slider/right-arrow\";\nimport QuickSearch from \"../components/forms/QuickSearchForm\";\nimport strings from \"../localization\";\nimport { getNewPeople } from \"../services/UserService\";\nimport { calculateAge } from \"../util/DateUtil\";\nimport VillagePreview from \"../components/VillagePreview\";\nimport { OK } from \"http-status-codes\";\nimport { Link } from \"react-router-dom\";\nimport Page from \"../common/Page\";\n\nclass Home extends Page {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeIndex: 0,\n      villages: [],\n      newPeople: []\n    };\n  }\n\n  componentDidMount() {\n    this.props.showLoader();\n\n    getVillages().then(response => {\n      this.props.hideLoader();\n\n      if (response.status !== OK) {\n        return;\n      }\n\n      this.setState({\n        villages: response.data\n      });\n    });\n\n    getNewPeople(4).then(response => {\n      this.props.hideLoader();\n\n      if (response.status !== OK) {\n        return;\n      }\n\n      this.setState({\n        newPeople: response.data\n      });\n    });\n  }\n\n  componentDidUpdate() {}\n\n  goToPrevSlide() {\n    let index = this.state.activeIndex;\n    let length = this.state.villages.length;\n\n    if (index < 1) {\n      index = length - 1;\n    } else {\n      index--;\n    }\n\n    this.setState({\n      activeIndex: index\n    });\n  }\n\n  goToNextSlide() {\n    let index = this.state.activeIndex;\n    let length = this.state.villages.length;\n\n    if (index === length - 1) {\n      index = 0;\n    } else {\n      index++;\n    }\n\n    this.setState({\n      activeIndex: index\n    });\n  }\n\n  renderNewPeople() {\n    let result = [];\n\n    if (!this.state.newPeople) {\n      return result;\n    }\n\n    for (let user of this.state.newPeople) {\n      result.push(\n        <div key={user.id} className=\"item-with-text\">\n          <div\n            className=\"item-photo-container\"\n            style={{\n              background: \"url(images/circle.png)\"\n            }}\n          >\n            <img\n              src={\"images/users_photos/\" + user.id + \"/circle_image.png\"}\n            ></img>\n          </div>\n          <div className=\"item-text\">\n            {user.name}, {calculateAge(user.birthday)}\n          </div>\n        </div>\n      );\n    }\n\n    return result;\n  }\n\n  renderVillages() {\n    let result = [];\n    let numberOfVillages = 0;\n\n    if (!this.state.villages) {\n      return result;\n    }\n\n    {\n      for (let village of this.state.villages) {\n        if (numberOfVillages < 3) {\n          result.push(<VillagePreview village={village} key={village.id} />);\n          numberOfVillages++;\n        }\n      }\n    }\n\n    return result;\n  }\n\n  render() {\n    return (\n      <div id=\"home\">\n        <div\n          className=\"slider-items-container\"\n          style={{\n            background: \"url(../../images/slider-index.png)\"\n          }}\n        >\n          <LeftArrow goToPrevSlide={() => this.goToPrevSlide()} />\n          <div className=\"slider-grid-container\">\n            <div className=\"search-form-container\">\n              <QuickSearch />\n            </div>\n            <div className=\"slider-village-container\">\n              <Slide\n                items={this.state.villages}\n                activeIndex={this.state.activeIndex}\n                goToNextSlide={() => this.goToNextSlide()}\n              />\n            </div>\n          </div>\n          <RightArrow goToNextSlide={() => this.goToNextSlide()} />\n        </div>\n        <div className=\"new-people-container\">\n          <div className=\"new-people-title\">\n            <div className=\"flag\">\n              <img src=\"images/flags/rs.png\"></img>\n            </div>\n            <div className=\"title\">{strings.home.newPeople}</div>\n          </div>\n          <div className=\"items-container\">{this.renderNewPeople()}</div>\n        </div>\n        <div className=\"serbia-blogs-container\">\n          <div className=\"serbia-blogs-title\">\n            <div className=\"flag\">\n              <img src=\"images/flags/rs.png\"></img>\n            </div>\n            <div className=\"title\">{strings.home.blogs}</div>\n          </div>\n          <Link className=\"blogs-button\" to=\"/blogs\">\n            {strings.home.blogsButton}\n          </Link>\n        </div>\n        <div className=\"serbia-villages-container\">\n          <div className=\"serbia-villages-title\">\n            <div className=\"flag\">\n              <img src=\"images/flags/rs.png\"></img>\n            </div>\n            <div className=\"title\">{strings.home.beuty}</div>\n          </div>\n          <div className=\"items-container\">{this.renderVillages()}</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      showLoader: Actions.showLoader,\n      hideLoader: Actions.hideLoader\n    },\n    dispatch\n  );\n}\n\nfunction mapStateToProps({ authReducers }) {\n  return {\n    user: authReducers.user\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Home));\n"]},"metadata":{},"sourceType":"module"}