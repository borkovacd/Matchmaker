{"ast":null,"code":"import _createForOfIteratorHelper from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Page from\"../common/Page\";import{bindActionCreators}from\"redux\";import*as Actions from\"../actions/Actions\";import{withRouter}from\"react-router-dom\";import connect from\"react-redux/es/connect/connect\";import strings from\"../localization\";import{getSearchDataParams}from\"../constants/DefaultSearchData\";import{searchUsers}from\"../services/SearchService\";import{Link}from\"react-router-dom\";import UserPreview from\"../components/UserPreview\";import Pagination from\"../components/Pagination\";import{OK}from\"http-status-codes\";var SearchResults=/*#__PURE__*/function(_Page){_inherits(SearchResults,_Page);var _super=_createSuper(SearchResults);function SearchResults(props){var _this;_classCallCheck(this,SearchResults);_this=_super.call(this,props);_this.params=getSearchDataParams();_this.state={result:undefined,resultCount:0};return _this;}_createClass(SearchResults,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadSearchResults();}},{key:\"loadSearchResults\",value:function loadSearchResults(){var _this2=this;this.props.showLoader();this.loadParams();searchUsers(this.state.searchData).then(function(response){_this2.props.hideLoader();if(response.status!==OK){return;}_this2.setState({result:response.data,resultCount:response.total});});}},{key:\"renderUsers\",value:function renderUsers(){var result=[];if(!this.state.result){return result;}{var _iterator=_createForOfIteratorHelper(this.state.result),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var user=_step.value;result.push(/*#__PURE__*/React.createElement(UserPreview,{user:user,key:user.id}));}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return result;}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"search-results-page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"find-your-match\"},strings.searchResults.findMatch),/*#__PURE__*/React.createElement(\"div\",{className:\"center-and-margin\"},/*#__PURE__*/React.createElement(Link,{className:\"btn btn-blue uppercase\",to:\"/registration\"},strings.menu.Register)),/*#__PURE__*/React.createElement(\"div\",{className:\"search-results-component\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header-title\"},strings.searchResults.title)),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"first-column\"},/*#__PURE__*/React.createElement(\"div\",{className:\"space-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column-row\"},strings.searchResults.searchResults,/*#__PURE__*/React.createElement(\"div\",{className:\"value-color\"},Math.ceil(this.state.resultCount/this.state.searchData.perPage),\" \",strings.searchResults.pages))),/*#__PURE__*/React.createElement(\"div\",{className:\"space-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column-row\"},strings.searchResults.membersOnline,/*#__PURE__*/React.createElement(\"div\",{className:\"value-color\"},\"? \"))),/*#__PURE__*/React.createElement(\"div\",{className:\"space-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"column-row\"},strings.searchResults.orderBy))),/*#__PURE__*/React.createElement(\"div\",{className:\"empty-column\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"last-column\"},/*#__PURE__*/React.createElement(\"button\",{className:\"transparent-btn\"},strings.searchResults.quickSearch)))),/*#__PURE__*/React.createElement(\"div\",{className:\"users-grid-container\"},this.renderUsers()),/*#__PURE__*/React.createElement(\"div\",{className:\"pagination-time\"},/*#__PURE__*/React.createElement(Pagination,{page:this.state.searchData.page,perPage:this.state.searchData.perPage,total:this.state.resultCount,setPage:this.setPage})));}}]);return SearchResults;}(Page);function mapDispatchToProps(dispatch){return bindActionCreators({showLoader:Actions.showLoader,hideLoader:Actions.hideLoader},dispatch);}function mapStateToProps(_ref){var siteDataReducers=_ref.siteDataReducers;return siteDataReducers;}export default withRouter(connect(mapStateToProps,mapDispatchToProps)(SearchResults));","map":{"version":3,"sources":["/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/src/pages/SearchResults.js"],"names":["React","Page","bindActionCreators","Actions","withRouter","connect","strings","getSearchDataParams","searchUsers","Link","UserPreview","Pagination","OK","SearchResults","props","params","state","result","undefined","resultCount","loadSearchResults","showLoader","loadParams","searchData","then","response","hideLoader","status","setState","data","total","user","push","id","searchResults","findMatch","menu","Register","title","Math","ceil","perPage","pages","membersOnline","orderBy","quickSearch","renderUsers","page","setPage","mapDispatchToProps","dispatch","mapStateToProps","siteDataReducers"],"mappings":"k9BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,gBAAjB,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,oBAAzB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,OAAP,KAAoB,gCAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,iBAApB,CACA,OAASC,mBAAT,KAAoC,gCAApC,CACA,OAASC,WAAT,KAA4B,2BAA5B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,OAASC,EAAT,KAAmB,mBAAnB,C,GAEMC,CAAAA,a,oGAGJ,uBAAYC,KAAZ,CAAmB,+CACjB,uBAAMA,KAAN,EADiB,MAFnBC,MAEmB,CAFVR,mBAAmB,EAET,CAGjB,MAAKS,KAAL,CAAa,CACXC,MAAM,CAAEC,SADG,CAEXC,WAAW,CAAE,CAFF,CAAb,CAHiB,aAOlB,C,uFAEmB,CAClB,KAAKC,iBAAL,GACD,C,6DAEmB,iBAClB,KAAKN,KAAL,CAAWO,UAAX,GAEA,KAAKC,UAAL,GAEAd,WAAW,CAAC,KAAKQ,KAAL,CAAWO,UAAZ,CAAX,CAAmCC,IAAnC,CAAwC,SAACC,QAAD,CAAc,CACpD,MAAI,CAACX,KAAL,CAAWY,UAAX,GAEA,GAAID,QAAQ,CAACE,MAAT,GAAoBf,EAAxB,CAA4B,CAC1B,OACD,CAED,MAAI,CAACgB,QAAL,CAAc,CACZX,MAAM,CAAEQ,QAAQ,CAACI,IADL,CAEZV,WAAW,CAAEM,QAAQ,CAACK,KAFV,CAAd,EAID,CAXD,EAYD,C,iDAEa,CACZ,GAAIb,CAAAA,MAAM,CAAG,EAAb,CAEA,GAAI,CAAC,KAAKD,KAAL,CAAWC,MAAhB,CAAwB,CACtB,MAAOA,CAAAA,MAAP,CACD,CAED,0CACmB,KAAKD,KAAL,CAAWC,MAD9B,YACE,+CAAoC,IAA3Bc,CAAAA,IAA2B,aAClCd,MAAM,CAACe,IAAP,cAAY,oBAAC,WAAD,EAAa,IAAI,CAAED,IAAnB,CAAyB,GAAG,CAAEA,IAAI,CAACE,EAAnC,EAAZ,EACD,CAHH,qDAIC,CAED,MAAOhB,CAAAA,MAAP,CACD,C,uCAEQ,CACP,mBACE,2BAAK,SAAS,CAAC,qBAAf,eACE,2BAAK,SAAS,CAAC,iBAAf,EAAkCX,OAAO,CAAC4B,aAAR,CAAsBC,SAAxD,CADF,cAEE,2BAAK,SAAS,CAAC,mBAAf,eACE,oBAAC,IAAD,EAAM,SAAS,CAAC,wBAAhB,CAAyC,EAAE,CAAE,eAA7C,EACG7B,OAAO,CAAC8B,IAAR,CAAaC,QADhB,CADF,CAFF,cAOE,2BAAK,SAAS,CAAC,0BAAf,eACE,2BAAK,SAAS,CAAC,QAAf,eACE,2BAAK,SAAS,CAAC,cAAf,EAA+B/B,OAAO,CAAC4B,aAAR,CAAsBI,KAArD,CADF,CADF,cAIE,2BAAK,SAAS,CAAC,SAAf,eACE,2BAAK,SAAS,CAAC,cAAf,eACE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,YAAf,EACGhC,OAAO,CAAC4B,aAAR,CAAsBA,aADzB,cAEE,2BAAK,SAAS,CAAC,aAAf,EACGK,IAAI,CAACC,IAAL,CACC,KAAKxB,KAAL,CAAWG,WAAX,CAAyB,KAAKH,KAAL,CAAWO,UAAX,CAAsBkB,OADhD,CADH,CAGK,GAHL,CAIGnC,OAAO,CAAC4B,aAAR,CAAsBQ,KAJzB,CAFF,CADF,CADF,cAYE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,YAAf,EACGpC,OAAO,CAAC4B,aAAR,CAAsBS,aADzB,cAEE,2BAAK,SAAS,CAAC,aAAf,OAFF,CADF,CAZF,cAkBE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,YAAf,EACGrC,OAAO,CAAC4B,aAAR,CAAsBU,OADzB,CADF,CAlBF,CADF,cAyBE,2BAAK,SAAS,CAAC,cAAf,EAzBF,cA0BE,2BAAK,SAAS,CAAC,aAAf,eACE,8BAAQ,SAAS,CAAC,iBAAlB,EACGtC,OAAO,CAAC4B,aAAR,CAAsBW,WADzB,CADF,CA1BF,CAJF,CAPF,cA4CE,2BAAK,SAAS,CAAC,sBAAf,EAAuC,KAAKC,WAAL,EAAvC,CA5CF,cA6CE,2BAAK,SAAS,CAAC,iBAAf,eACE,oBAAC,UAAD,EACE,IAAI,CAAE,KAAK9B,KAAL,CAAWO,UAAX,CAAsBwB,IAD9B,CAEE,OAAO,CAAE,KAAK/B,KAAL,CAAWO,UAAX,CAAsBkB,OAFjC,CAGE,KAAK,CAAE,KAAKzB,KAAL,CAAWG,WAHpB,CAIE,OAAO,CAAE,KAAK6B,OAJhB,EADF,CA7CF,CADF,CAwDD,C,2BA5GyB/C,I,EA+G5B,QAASgD,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,MAAOhD,CAAAA,kBAAkB,CACvB,CACEmB,UAAU,CAAElB,OAAO,CAACkB,UADtB,CAEEK,UAAU,CAAEvB,OAAO,CAACuB,UAFtB,CADuB,CAKvBwB,QALuB,CAAzB,CAOD,CAED,QAASC,CAAAA,eAAT,MAA+C,IAApBC,CAAAA,gBAAoB,MAApBA,gBAAoB,CAC7C,MAAOA,CAAAA,gBAAP,CACD,CAED,cAAehD,CAAAA,UAAU,CACvBC,OAAO,CAAC8C,eAAD,CAAkBF,kBAAlB,CAAP,CAA6CpC,aAA7C,CADuB,CAAzB","sourcesContent":["import React from \"react\";\nimport Page from \"../common/Page\";\nimport { bindActionCreators } from \"redux\";\nimport * as Actions from \"../actions/Actions\";\nimport { withRouter } from \"react-router-dom\";\nimport connect from \"react-redux/es/connect/connect\";\nimport strings from \"../localization\";\nimport { getSearchDataParams } from \"../constants/DefaultSearchData\";\nimport { searchUsers } from \"../services/SearchService\";\nimport { Link } from \"react-router-dom\";\nimport UserPreview from \"../components/UserPreview\";\nimport Pagination from \"../components/Pagination\";\nimport { OK } from \"http-status-codes\";\n\nclass SearchResults extends Page {\n  params = getSearchDataParams();\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      result: undefined,\n      resultCount: 0,\n    };\n  }\n\n  componentDidMount() {\n    this.loadSearchResults();\n  }\n\n  loadSearchResults() {\n    this.props.showLoader();\n\n    this.loadParams();\n\n    searchUsers(this.state.searchData).then((response) => {\n      this.props.hideLoader();\n\n      if (response.status !== OK) {\n        return;\n      }\n\n      this.setState({\n        result: response.data,\n        resultCount: response.total,\n      });\n    });\n  }\n\n  renderUsers() {\n    let result = [];\n\n    if (!this.state.result) {\n      return result;\n    }\n\n    {\n      for (let user of this.state.result) {\n        result.push(<UserPreview user={user} key={user.id} />);\n      }\n    }\n\n    return result;\n  }\n\n  render() {\n    return (\n      <div className=\"search-results-page\">\n        <div className=\"find-your-match\">{strings.searchResults.findMatch}</div>\n        <div className=\"center-and-margin\">\n          <Link className=\"btn btn-blue uppercase\" to={\"/registration\"}>\n            {strings.menu.Register}\n          </Link>\n        </div>\n        <div className=\"search-results-component\">\n          <div className=\"header\">\n            <div className=\"header-title\">{strings.searchResults.title}</div>\n          </div>\n          <div className=\"content\">\n            <div className=\"first-column\">\n              <div className=\"space-between\">\n                <div className=\"column-row\">\n                  {strings.searchResults.searchResults}\n                  <div className=\"value-color\">\n                    {Math.ceil(\n                      this.state.resultCount / this.state.searchData.perPage\n                    )}{\" \"}\n                    {strings.searchResults.pages}\n                  </div>\n                </div>\n              </div>\n              <div className=\"space-between\">\n                <div className=\"column-row\">\n                  {strings.searchResults.membersOnline}\n                  <div className=\"value-color\">? </div>\n                </div>\n              </div>\n              <div className=\"space-between\">\n                <div className=\"column-row\">\n                  {strings.searchResults.orderBy}\n                </div>\n              </div>\n            </div>\n            <div className=\"empty-column\"></div>\n            <div className=\"last-column\">\n              <button className=\"transparent-btn\">\n                {strings.searchResults.quickSearch}\n              </button>\n            </div>\n          </div>\n        </div>\n        <div className=\"users-grid-container\">{this.renderUsers()}</div>\n        <div className=\"pagination-time\">\n          <Pagination\n            page={this.state.searchData.page}\n            perPage={this.state.searchData.perPage}\n            total={this.state.resultCount}\n            setPage={this.setPage}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      showLoader: Actions.showLoader,\n      hideLoader: Actions.hideLoader,\n    },\n    dispatch\n  );\n}\n\nfunction mapStateToProps({ siteDataReducers }) {\n  return siteDataReducers;\n}\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(SearchResults)\n);\n"]},"metadata":{},"sourceType":"module"}