{"ast":null,"code":"import _classCallCheck from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Page from\"../common/Page\";import{bindActionCreators}from\"redux\";import*as Actions from\"../actions/Actions\";import{withRouter}from\"react-router-dom\";import connect from\"react-redux/es/connect/connect\";import{getBlogDetails,getRelatedBlogs}from\"../services/BlogService\";import strings from\"../localization\";import BlogPreview from\"../components/BlogPreview\";import{OK}from\"http-status-codes\";var BlogDetails=/*#__PURE__*/function(_Page){_inherits(BlogDetails,_Page);var _super=_createSuper(BlogDetails);function BlogDetails(){var _this;_classCallCheck(this,BlogDetails);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.params=[{name:\"blog\",defaultValue:-1}];return _this;}_createClass(BlogDetails,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadBlog();}},{key:\"loadBlog\",value:function loadBlog(){var _this2=this;this.loadParams();this.props.showLoader();getBlogDetails(this.state.searchData.blog).then(function(response){_this2.props.hideLoader();if(response.status!==OK){return;}_this2.setState({blogDetails:response.data});_this2.loadRelatedBlogs(_this2.state.blogDetails.id);});}},{key:\"loadRelatedBlogs\",value:function loadRelatedBlogs(id){var _this3=this;this.props.showLoader();getRelatedBlogs(id).then(function(response){_this3.props.hideLoader();if(response.status!==OK){return;}_this3.setState({relatedBlogs:response.data,visible:3//number of related posts\n});});}},{key:\"renderRelatedBlogs\",value:function renderRelatedBlogs(){var _this4=this;var result=[];if(!this.state.relatedBlogs){return result;}{this.state.relatedBlogs.slice(0,this.state.visible).map(function(item,index){result.push(/*#__PURE__*/React.createElement(BlogPreview,{onlyTitle:true,blog:item,key:item.id,onClick:_this4.handleChange}));});}return result;}},{key:\"render\",value:function render(){if(!this.state.blogDetails){return\"\";}return/*#__PURE__*/React.createElement(\"div\",{className:\"blog-details-page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"blog-details-header\"},\"SERBIA\"),/*#__PURE__*/React.createElement(\"div\",{className:\"blog-details-title\"},strings.blogs.blogPage),/*#__PURE__*/React.createElement(\"div\",{className:\"blog-details-grid-container\"},/*#__PURE__*/React.createElement(\"div\",{id:this.state.blogDetails.id,className:\"blog-details-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header\",style:{background:\"url(images/blogs_photos/\"+this.state.blogDetails.id+\"/header_photo.png)\"}}),/*#__PURE__*/React.createElement(\"div\",{className:\"content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-title\"},this.state.blogDetails.title,/*#__PURE__*/React.createElement(\"div\",{className:\"content-buttons-container\"},/*#__PURE__*/React.createElement(\"a\",{className:\"button-round-container\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fab fa-twitter i\"})),/*#__PURE__*/React.createElement(\"a\",{className:\"button-round-container\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fab fa-facebook-f i\"})),/*#__PURE__*/React.createElement(\"a\",{className:\"button-round-container\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-share-alt i\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"line-separator gray\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"content-text\"},this.state.blogDetails.content))),/*#__PURE__*/React.createElement(\"div\",{className:\"related-posts-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title-container\"},strings.blogs.relatedPosts),/*#__PURE__*/React.createElement(\"div\",{className:\"post-container\"},this.renderRelatedBlogs()))));}}]);return BlogDetails;}(Page);function mapDispatchToProps(dispatch){return bindActionCreators({showLoader:Actions.showLoader,hideLoader:Actions.hideLoader},dispatch);}function mapStateToProps(_ref){var siteDataReducers=_ref.siteDataReducers;return siteDataReducers;}export default withRouter(connect(mapStateToProps,mapDispatchToProps)(BlogDetails));","map":{"version":3,"sources":["/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/src/pages/BlogDetails.js"],"names":["React","Page","bindActionCreators","Actions","withRouter","connect","getBlogDetails","getRelatedBlogs","strings","BlogPreview","OK","BlogDetails","params","name","defaultValue","loadBlog","loadParams","props","showLoader","state","searchData","blog","then","response","hideLoader","status","setState","blogDetails","data","loadRelatedBlogs","id","relatedBlogs","visible","result","slice","map","item","index","push","handleChange","blogs","blogPage","background","title","content","relatedPosts","renderRelatedBlogs","mapDispatchToProps","dispatch","mapStateToProps","siteDataReducers"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Page from \"../common/Page\";\nimport { bindActionCreators } from \"redux\";\nimport * as Actions from \"../actions/Actions\";\nimport { withRouter } from \"react-router-dom\";\nimport connect from \"react-redux/es/connect/connect\";\nimport { getBlogDetails, getRelatedBlogs } from \"../services/BlogService\";\nimport strings from \"../localization\";\nimport BlogPreview from \"../components/BlogPreview\";\nimport { OK } from \"http-status-codes\";\n\nclass BlogDetails extends Page {\n  params = [{ name: \"blog\", defaultValue: -1 }];\n\n  componentDidMount() {\n    this.loadBlog();\n  }\n\n  loadBlog() {\n    this.loadParams();\n\n    this.props.showLoader();\n\n    getBlogDetails(this.state.searchData.blog).then(response => {\n      this.props.hideLoader();\n\n      if (response.status !== OK) {\n        return;\n      }\n\n      this.setState({\n        blogDetails: response.data\n      });\n\n      this.loadRelatedBlogs(this.state.blogDetails.id);\n    });\n  }\n\n  loadRelatedBlogs(id) {\n    this.props.showLoader();\n\n    getRelatedBlogs(id).then(response => {\n      this.props.hideLoader();\n\n      if (response.status !== OK) {\n        return;\n      }\n\n      this.setState({\n        relatedBlogs: response.data,\n        visible: 3 //number of related posts\n      });\n    });\n  }\n\n  renderRelatedBlogs() {\n    let result = [];\n\n    if (!this.state.relatedBlogs) {\n      return result;\n    }\n\n    {\n      this.state.relatedBlogs\n        .slice(0, this.state.visible)\n        .map((item, index) => {\n          result.push(\n            <BlogPreview\n              onlyTitle={true}\n              blog={item}\n              key={item.id}\n              onClick={this.handleChange}\n            />\n          );\n        });\n    }\n\n    return result;\n  }\n\n  render() {\n    if (!this.state.blogDetails) {\n      return \"\";\n    }\n\n    return (\n      <div className=\"blog-details-page\">\n        <div className=\"blog-details-header\">SERBIA</div>\n        <div className=\"blog-details-title\">{strings.blogs.blogPage}</div>\n        <div className=\"blog-details-grid-container\">\n          <div\n            id={this.state.blogDetails.id}\n            className=\"blog-details-container\"\n          >\n            <div\n              className=\"header\"\n              style={{\n                background:\n                  \"url(images/blogs_photos/\" +\n                  this.state.blogDetails.id +\n                  \"/header_photo.png)\"\n              }}\n            ></div>\n            <div className=\"content\">\n              <div className=\"content-title\">\n                {this.state.blogDetails.title}\n                <div className=\"content-buttons-container\">\n                  <a className=\"button-round-container\">\n                    <i className=\"fab fa-twitter i\"></i>\n                  </a>\n                  <a className=\"button-round-container\">\n                    <i className=\"fab fa-facebook-f i\"></i>\n                  </a>\n                  <a className=\"button-round-container\">\n                    <i className=\"fa fa-share-alt i\"></i>\n                  </a>\n                </div>\n                <div className=\"line-separator gray\"></div>\n              </div>\n\n              <div className=\"content-text\">\n                {this.state.blogDetails.content}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"related-posts-container\">\n            <div className=\"title-container\">{strings.blogs.relatedPosts}</div>\n            <div className=\"post-container\">{this.renderRelatedBlogs()}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      showLoader: Actions.showLoader,\n      hideLoader: Actions.hideLoader\n    },\n    dispatch\n  );\n}\n\nfunction mapStateToProps({ siteDataReducers }) {\n  return siteDataReducers;\n}\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(BlogDetails)\n);\n"]},"metadata":{},"sourceType":"module"}