{"ast":null,"code":"import _classCallCheck from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{withRouter}from\"react-router-dom\";import{checkPath}from\"../route\";import{connect}from\"react-redux\";import{bindActionCreators}from\"redux\";var AuthWrapper=/*#__PURE__*/function(_Component){_inherits(AuthWrapper,_Component);var _super=_createSuper(AuthWrapper);function AuthWrapper(){_classCallCheck(this,AuthWrapper);return _super.apply(this,arguments);}_createClass(AuthWrapper,[{key:\"checkPermission\",value:function checkPermission(){var needAuth=checkPath(this.props.location.pathname);if(needAuth&&!this.props.user){this.props.history.push({pathname:\"/login\",state:{redirectUrl:this.props.location.pathname}});return false;}return true;}},{key:\"render\",value:function render(){if(!this.checkPermission()){return\"\";}var children=this.props.children;return/*#__PURE__*/React.createElement(React.Fragment,null,children);}}]);return AuthWrapper;}(Component);function mapDispatchToProps(dispatch){return bindActionCreators({},dispatch);}function mapStateToProps(_ref){var authReducers=_ref.authReducers;return{user:authReducers.user};}export default withRouter(connect(mapStateToProps,mapDispatchToProps)(AuthWrapper));","map":{"version":3,"sources":["/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/src/base/AuthWrapper.js"],"names":["React","Component","withRouter","checkPath","connect","bindActionCreators","AuthWrapper","needAuth","props","location","pathname","user","history","push","state","redirectUrl","checkPermission","children","mapDispatchToProps","dispatch","mapStateToProps","authReducers"],"mappings":"wvBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,SAAT,KAA0B,UAA1B,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,kBAAT,KAAmC,OAAnC,C,GAEMC,CAAAA,W,yRACc,CAChB,GAAIC,CAAAA,QAAQ,CAAGJ,SAAS,CAAC,KAAKK,KAAL,CAAWC,QAAX,CAAoBC,QAArB,CAAxB,CAEA,GAAIH,QAAQ,EAAI,CAAC,KAAKC,KAAL,CAAWG,IAA5B,CAAkC,CAChC,KAAKH,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwB,CACtBH,QAAQ,CAAE,QADY,CAEtBI,KAAK,CAAE,CAAEC,WAAW,CAAE,KAAKP,KAAL,CAAWC,QAAX,CAAoBC,QAAnC,CAFe,CAAxB,EAKA,MAAO,MAAP,CACD,CAED,MAAO,KAAP,CACD,C,uCAEQ,CACP,GAAI,CAAC,KAAKM,eAAL,EAAL,CAA6B,CAC3B,MAAO,EAAP,CACD,CAHM,GAKCC,CAAAA,QALD,CAKc,KAAKT,KALnB,CAKCS,QALD,CAOP,mBAAO,oBAAC,KAAD,CAAO,QAAP,MAAiBA,QAAjB,CAAP,CACD,C,yBAxBuBhB,S,EA2B1B,QAASiB,CAAAA,kBAAT,CAA4BC,QAA5B,CAAsC,CACpC,MAAOd,CAAAA,kBAAkB,CAAC,EAAD,CAAKc,QAAL,CAAzB,CACD,CAED,QAASC,CAAAA,eAAT,MAA2C,IAAhBC,CAAAA,YAAgB,MAAhBA,YAAgB,CACzC,MAAO,CACLV,IAAI,CAAEU,YAAY,CAACV,IADd,CAAP,CAGD,CAED,cAAeT,CAAAA,UAAU,CACvBE,OAAO,CAACgB,eAAD,CAAkBF,kBAAlB,CAAP,CAA6CZ,WAA7C,CADuB,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { checkPath } from \"../route\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\n\nclass AuthWrapper extends Component {\n  checkPermission() {\n    let needAuth = checkPath(this.props.location.pathname);\n\n    if (needAuth && !this.props.user) {\n      this.props.history.push({\n        pathname: \"/login\",\n        state: { redirectUrl: this.props.location.pathname },\n      });\n\n      return false;\n    }\n\n    return true;\n  }\n\n  render() {\n    if (!this.checkPermission()) {\n      return \"\";\n    }\n\n    const { children } = this.props;\n\n    return <React.Fragment>{children}</React.Fragment>;\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({}, dispatch);\n}\n\nfunction mapStateToProps({ authReducers }) {\n  return {\n    user: authReducers.user,\n  };\n}\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(AuthWrapper)\n);\n"]},"metadata":{},"sourceType":"module"}