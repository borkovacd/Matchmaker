{"ast":null,"code":"import _createForOfIteratorHelper from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from\"react\";import{getUserFromLocalStorage,logout as _logout}from\"../base/OAuth\";var BaseComponent=/*#__PURE__*/function(_Component){_inherits(BaseComponent,_Component);var _super=_createSuper(BaseComponent);function BaseComponent(props){var _this;_classCallCheck(this,BaseComponent);_this=_super.call(this,props);_this.logout=_this.logout.bind(_assertThisInitialized(_this));return _this;}_createClass(BaseComponent,[{key:\"isUserLoggedIn\",value:function isUserLoggedIn(){return getUserFromLocalStorage()!=null;}},{key:\"getUser\",value:function getUser(){return getUserFromLocalStorage();}},{key:\"logout\",value:function logout(){_logout();this.props.logout();}},{key:\"removeFromArray\",value:function removeFromArray(array,item){var index=array.indexOf(item);if(index==-1){return false;}array.splice(index,1);return true;}},{key:\"isInArray\",value:function isInArray(array,item){return array.indexOf(item)!==-1;}},{key:\"isUserAdmin\",value:function isUserAdmin(){if(!this.props.user){return false;}return this.isUserRole(this.props.user,\"ROLE_ADMIN\");}},{key:\"isUserRole\",value:function isUserRole(user,role){var _iterator=_createForOfIteratorHelper(user.roles),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var userRole=_step.value;if(userRole===role){return true;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return false;}}]);return BaseComponent;}(Component);export default BaseComponent;","map":{"version":3,"sources":["/home/korisnik/Desktop/Borkovac/MyProjects/Matchmaker/Matchmaker/matchmaker/src/common/BaseComponent.js"],"names":["Component","getUserFromLocalStorage","logout","BaseComponent","props","bind","array","item","index","indexOf","splice","user","isUserRole","role","roles","userRole"],"mappings":"oqCAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,uBAAT,CAAkCC,MAAM,GAANA,CAAAA,OAAlC,KAAgD,eAAhD,C,GAEMC,CAAAA,a,8GACJ,uBAAYC,KAAZ,CAAmB,+CACjB,uBAAMA,KAAN,EAEA,MAAKF,MAAL,CAAc,MAAKA,MAAL,CAAYG,IAAZ,+BAAd,CAHiB,aAIlB,C,iFAEgB,CACf,MAAOJ,CAAAA,uBAAuB,IAAM,IAApC,CACD,C,yCAES,CACR,MAAOA,CAAAA,uBAAuB,EAA9B,CACD,C,uCAEQ,CACPC,OAAM,GACN,KAAKE,KAAL,CAAWF,MAAX,GACD,C,wDAEeI,K,CAAOC,I,CAAM,CAC3B,GAAIC,CAAAA,KAAK,CAAGF,KAAK,CAACG,OAAN,CAAcF,IAAd,CAAZ,CAEA,GAAIC,KAAK,EAAI,CAAC,CAAd,CAAiB,CACf,MAAO,MAAP,CACD,CAEDF,KAAK,CAACI,MAAN,CAAaF,KAAb,CAAoB,CAApB,EAEA,MAAO,KAAP,CACD,C,4CAESF,K,CAAOC,I,CAAM,CACrB,MAAOD,CAAAA,KAAK,CAACG,OAAN,CAAcF,IAAd,IAAwB,CAAC,CAAhC,CACD,C,iDAEa,CACZ,GAAI,CAAC,KAAKH,KAAL,CAAWO,IAAhB,CAAsB,CACpB,MAAO,MAAP,CACD,CAED,MAAO,MAAKC,UAAL,CAAgB,KAAKR,KAAL,CAAWO,IAA3B,CAAiC,YAAjC,CAAP,CACD,C,8CAEUA,I,CAAME,I,CAAM,0CACAF,IAAI,CAACG,KADL,YACrB,+CAAiC,IAAxBC,CAAAA,QAAwB,aAC/B,GAAIA,QAAQ,GAAKF,IAAjB,CAAuB,CACrB,MAAO,KAAP,CACD,CACF,CALoB,qDAOrB,MAAO,MAAP,CACD,C,2BApDyBb,S,EAuD5B,cAAeG,CAAAA,aAAf","sourcesContent":["import { Component } from \"react\";\nimport { getUserFromLocalStorage, logout } from \"../base/OAuth\";\n\nclass BaseComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = this.logout.bind(this);\n  }\n\n  isUserLoggedIn() {\n    return getUserFromLocalStorage() != null;\n  }\n\n  getUser() {\n    return getUserFromLocalStorage();\n  }\n\n  logout() {\n    logout();\n    this.props.logout();\n  }\n\n  removeFromArray(array, item) {\n    let index = array.indexOf(item);\n\n    if (index == -1) {\n      return false;\n    }\n\n    array.splice(index, 1);\n\n    return true;\n  }\n\n  isInArray(array, item) {\n    return array.indexOf(item) !== -1;\n  }\n\n  isUserAdmin() {\n    if (!this.props.user) {\n      return false;\n    }\n\n    return this.isUserRole(this.props.user, \"ROLE_ADMIN\");\n  }\n\n  isUserRole(user, role) {\n    for (let userRole of user.roles) {\n      if (userRole === role) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n}\n\nexport default BaseComponent;\n"]},"metadata":{},"sourceType":"module"}